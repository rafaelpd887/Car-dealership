---
title: "Qual o melhor estado para se comprar uma picape com transmissçao automática e por quê?"
author: "Rafael"
date: "2023-07-15"
output: html_document
---
# Carregando pacotes e dataset
```{r package, message=FALSE, results='hide'}
pacotes <- c("readxl", "dplyr")
lapply(pacotes, library, character.only = TRUE)
```
```{r load}
cars_train <- read_excel("cars_train.xlsx")
```

# Análises
Usando `table` para olhar os tipos disponíveis:
```{r table}
table(cars_train$tipo)
```
.
## Criando um novo dataset apenas com o tipo "picape": 
```{r picapes}
picapes_auto <- filter(cars_train, tipo %in% c("Picape"))
```

## Filtrando o dataset "picapes_auto" para que ele contenha apenas picapes automáticas: 
```{r picapes2}
picapes_auto <- filter(picapes_auto, cambio %in% c("Automática"))
```

## Calculando o volume de vendas em cada "estado_vendedor"
```{r vendas}
vendas_por_estado <- picapes_auto %>%
  group_by(estado_vendedor) %>%
  summarize(volume_vendas = n()) %>%
  arrange(desc(volume_vendas))
vendas_por_estado
```

## Obtendo o menor preço para cada "estado_vendedor"
```{r vendas2}
menor_preco_por_estado <- picapes_auto %>%
  group_by(estado_vendedor) %>%
  summarize(menor_preco = min(preco)) %>%
arrange(menor_preco)
menor_preco_por_estado
```

## Calculando o desvio padrão para cada "estado_vendedor"
```{r vendas3}
desvio_padrao_por_estado <- picapes_auto %>%
  group_by(estado_vendedor) %>%
  summarize(desvio_padrao = sd(preco)) %>%
arrange(desc(desvio_padrao))
desvio_padrao_por_estado
```

## Calculando o preço médio de venda para cada "estado_vendedor"
```{r preço}
preco_medio_por_estado <- picapes_auto %>%
  group_by(estado_vendedor) %>%
  summarize(preco_medio = mean(preco)) %>%
  arrange(preco_medio)
preco_medio_por_estado
```

#### Observa-se que o estado da Paraíba apresentou o menor preço médio para picapes automáticas. Entretanto, é importante ressaltar que o estado da Paraíba possui apenas quatro picapes automáticas no dataset, o que torna a amostra pequena e pode indicar dificuldade em encontrar picapes automáticas para compra.

#### Por outro lado, o estado de São Paulo apresenta o maior número de observações de picapes automáticas. Além disso, ele também possui o menor valor absoluto entre todas as picapes automáticas disponíveis, um dos maiores desvios padrão nos preços desses veículos, e apenas o oitavo maior preço médio em um total de 18 estados.

#### Portanto, no geral, o estado de São paulo é o melhor estado para se comprar uma picape automática. É onde uma pessoa teria maior facilidade para encontrar uma picape automática para se comprar, e devido a grande variabilidade nos preços indicada pelo desvio-padrão, a pessoa também teria a oportunidade de encontrar preços relativamente mais baixos que em outros estados.

#### É importante ressaltar que essa análise foi realizada apenas com as observações que possuíam a categoria "Picape" na variável qualitativa "tipo" e "Automática" na variável qualitativa "cambio".
